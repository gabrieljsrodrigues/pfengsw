{"ast":null,"code":"import{useEffect,useState}from'react';import{fetchOpportunities}from'../services/api';export const useOpportunityController=()=>{const[opportunities,setOpportunities]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const load=async()=>{try{const{data}=await fetchOpportunities();setOpportunities(data);}catch(err){setError(err.message);}finally{setLoading(false);}};load();},[]);const applyFilter=filterText=>{return opportunities.filter(opp=>opp.titulo.toLowerCase().includes(filterText.toLowerCase())||opp.ong_nome.toLowerCase().includes(filterText.toLowerCase()));};return{opportunities,loading,error,applyFilter};};","map":{"version":3,"names":["useEffect","useState","fetchOpportunities","useOpportunityController","opportunities","setOpportunities","loading","setLoading","error","setError","load","data","err","message","applyFilter","filterText","filter","opp","titulo","toLowerCase","includes","ong_nome"],"sources":["/workspaces/pfengsw/tempo-bem-gasto-main/frontend/src/controllers/OpportunityController.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { fetchOpportunities } from '../services/api';\n\nexport const useOpportunityController = () => {\n  const [opportunities, setOpportunities] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const { data } = await fetchOpportunities();\n        setOpportunities(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n\n  const applyFilter = (filterText) => {\n    return opportunities.filter(opp => \n      opp.titulo.toLowerCase().includes(filterText.toLowerCase()) ||\n      opp.ong_nome.toLowerCase().includes(filterText.toLowerCase())\n    );\n  };\n\n  return { opportunities, loading, error, applyFilter };\n};"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,kBAAkB,KAAQ,iBAAiB,CAEpD,MAAO,MAAM,CAAAC,wBAAwB,CAAGA,CAAA,GAAM,CAC5C,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGJ,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACK,OAAO,CAAEC,UAAU,CAAC,CAAGN,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACO,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,IAAI,CAAG,KAAAA,CAAA,GAAY,CACvB,GAAI,CACF,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAT,kBAAkB,CAAC,CAAC,CAC3CG,gBAAgB,CAACM,IAAI,CAAC,CACxB,CAAE,MAAOC,GAAG,CAAE,CACZH,QAAQ,CAACG,GAAG,CAACC,OAAO,CAAC,CACvB,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACDG,IAAI,CAAC,CAAC,CACR,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAI,WAAW,CAAIC,UAAU,EAAK,CAClC,MAAO,CAAAX,aAAa,CAACY,MAAM,CAACC,GAAG,EAC7BA,GAAG,CAACC,MAAM,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACL,UAAU,CAACI,WAAW,CAAC,CAAC,CAAC,EAC3DF,GAAG,CAACI,QAAQ,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACL,UAAU,CAACI,WAAW,CAAC,CAAC,CAC9D,CAAC,CACH,CAAC,CAED,MAAO,CAAEf,aAAa,CAAEE,OAAO,CAAEE,KAAK,CAAEM,WAAY,CAAC,CACvD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}